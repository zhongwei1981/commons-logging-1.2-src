<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>PathableTestSuite (Apache Commons Logging 1.2 Test API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PathableTestSuite (Apache Commons Logging 1.2 Test API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PathableTestSuite.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/commons/logging/PathableClassLoader.html" title="class in org.apache.commons.logging"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/commons/logging/SimpleLogTestCase.html" title="class in org.apache.commons.logging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/commons/logging/PathableTestSuite.html" target="_top">Frames</a></li>
<li><a href="PathableTestSuite.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.commons.logging</div>
<h2 title="Class PathableTestSuite" class="title">Class PathableTestSuite</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>junit.framework.TestSuite</li>
<li>
<ul class="inheritance">
<li>org.apache.commons.logging.PathableTestSuite</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>junit.framework.Test</dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../src-html/org/apache/commons/logging/PathableTestSuite.html#line.105">PathableTestSuite</a>
extends junit.framework.TestSuite</pre>
<div class="block">Custom TestSuite class that can be used to control the context classloader
 in operation when a test runs.
 <p>
 For tests that need to control exactly what the classloader hierarchy is
 like when the test is run, something like the following is recommended:
 <pre>
 class SomeTestCase extends TestCase {
  public static Test suite() throws Exception {
   PathableClassLoader parent = new PathableClassLoader(null);
   parent.useSystemLoader("junit.");
 
   PathableClassLoader child = new PathableClassLoader(parent);
   child.addLogicalLib("testclasses");
   child.addLogicalLib("log4j12");
   child.addLogicalLib("commons-logging");
 
   Class testClass = child.loadClass(SomeTestCase.class.getName());
   ClassLoader contextClassLoader = child;
 
   PathableTestSuite suite = new PathableTestSuite(testClass, child);
   return suite;
  }
 
  // test methods go here
 }
 </pre>
 Note that if the suite method throws an exception then this will be handled
 reasonable gracefully by junit; it will report that the suite method for 
 a test case failed with exception yyy.
 <p>
 The use of PathableClassLoader is not required to use this class, but it
 is expected that using the two classes together is common practice.
 <p>
 This class will run each test methods within the specified TestCase using
 the specified context classloader and system classloader. If different
 tests within the same class require different context classloaders,
 then the context classloader passed to the constructor should be the 
 "lowest" one available, and tests that need the context set to some parent
 of this "lowest" classloader can call
 <pre>
  // NB: pseudo-code only
  setContextClassLoader(getContextClassLoader().getParent());
 </pre>
 This class ensures that any context classloader changes applied by a test
 is undone after the test is run, so tests don't need to worry about
 restoring the context classloader on exit. This class also ensures that
 the system properties are restored to their original settings after each
 test, so tests that manipulate those don't need to worry about resetting them. 
 <p>
 This class does not provide facilities for manipulating system properties;
 tests that need specific system properties can simply set them in the
 fixture or at the start of a test method.
 <p>
 <b>Important!</b> When the test case is run, "this.getClass()" refers of
 course to the Class object passed to the constructor of this class - which 
 is different from the class whose suite() method was executed to determine
 the classpath. This means that the suite method cannot communicate with
 the test cases simply by setting static variables (for example to make the
 custom classloaders available to the test methods or setUp/tearDown fixtures).
 If this is really necessary then it is possible to use reflection to invoke
 static methods on the class object passed to the constructor of this class.
 <p>
 <h2>Limitations</h2>
 <p>
 This class cannot control the system classloader (ie what method 
 ClassLoader.getSystemClassLoader returns) because Java provides no
 mechanism for setting the system classloader. In this case, the only
 option is to invoke the unit test in a separate JVM with the appropriate
 settings.
 <p>
 The effect of using this approach in a system that uses junit's
 "reloading classloader" behaviour is unknown. This junit feature is
 intended for junit GUI apps where a test may be run multiple times
 within the same JVM - and in particular, when the .class file may
 be modified between runs of the test. How junit achieves this is
 actually rather weird (the whole junit code is rather weird in fact)
 and it is not clear whether this approach will work as expected in
 such situations.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/commons/logging/PathableTestSuite.html#PathableTestSuite-java.lang.Class-java.lang.ClassLoader-">PathableTestSuite</a></span>(java.lang.Class&nbsp;testClass,
                 java.lang.ClassLoader&nbsp;contextClassLoader)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/commons/logging/PathableTestSuite.html#runTest-junit.framework.Test-junit.framework.TestResult-">runTest</a></span>(junit.framework.Test&nbsp;test,
       junit.framework.TestResult&nbsp;result)</code>
<div class="block">This method is invoked once for each Test in the current TestSuite.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.junit.framework.TestSuite">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;junit.framework.TestSuite</h3>
<code>addTest, addTestSuite, countTestCases, createTest, getName, getTestConstructor, run, setName, testAt, testCount, tests, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PathableTestSuite-java.lang.Class-java.lang.ClassLoader-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PathableTestSuite</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/apache/commons/logging/PathableTestSuite.html#line.123">PathableTestSuite</a>(java.lang.Class&nbsp;testClass,
                         java.lang.ClassLoader&nbsp;contextClassLoader)</pre>
<div class="block">Constructor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>testClass</code> - is the TestCase that is to be run, as loaded by
 the appropriate ClassLoader.</dd>
<dd><code>contextClassLoader</code> - is the loader that should be returned by
 calls to Thread.currentThread.getContextClassLoader from test methods
 (or any method called by test methods).</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="runTest-junit.framework.Test-junit.framework.TestResult-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>runTest</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/commons/logging/PathableTestSuite.html#line.136">runTest</a>(junit.framework.Test&nbsp;test,
                    junit.framework.TestResult&nbsp;result)</pre>
<div class="block">This method is invoked once for each Test in the current TestSuite.
 Note that a Test may itself be a TestSuite object (ie a collection
 of tests).
 <p>
 The context classloader and system properties are saved before each
 test, and restored after the test completes to better isolate tests.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>runTest</code>&nbsp;in class&nbsp;<code>junit.framework.TestSuite</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PathableTestSuite.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/commons/logging/PathableClassLoader.html" title="class in org.apache.commons.logging"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/commons/logging/SimpleLogTestCase.html" title="class in org.apache.commons.logging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/commons/logging/PathableTestSuite.html" target="_top">Frames</a></li>
<li><a href="PathableTestSuite.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2001&#x2013;2017 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
